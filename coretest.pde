boolean isRotating = false;
boolean isRotatingX = false;
boolean isRotatingY = false;
boolean isRotatingZ = true;
boolean alternateColors = false;
float incx = 0.;
float incy = 0.;
float incz = 0.;
float middlex;
float middley;
float middlez;
float rotX = 0.;
float rotY = 0.;
float rotZ = 0.;
void setup() {
	size(800, 600, OPENGL);
	fill(184, 235, 184);
}
void drawCircle(float _x, float _y, float _radius, float _z) {
_radius = _radius / 2;
noFill();
bezier(0 + _x, _radius/2 + _y, _z, 0 + _x, _radius/2 +_y, _z, 0+_x, 0+_y, _z, _radius/2+_x, 0+_y, _z);
bezier(_radius/2 + _x, 0 + _y, _z, _radius/2 + _x, 0 + _y, _z, _radius + _x, 0 + _y, _z, _radius + _x, _radius/2 + _y, _z);
bezier(_radius + _x, _radius/2 + _y, _z, _radius + _x, _radius/2 + _y, _z, _radius + _x, _radius + _y, _z, _radius/2 + _x, _radius + _y, _z);
bezier(_radius/2 + _x, _radius + _y, _z, _radius/2 + _x, _radius + _y, _z, 0 + _x, _radius + _y, _z, 0 + _x, _radius/2 + _y, _z);
}

void draw() {
	lights();
	if (alternateColors) {
		background(120);
	} else {
		background(255);
	}
	camera(0.0, middlez, 220.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0);
	if (mousePressed) {
	// do nothing
	} else {
	rotY = (PI*2)*((mouseX/(float)width)+incx);
	rotX = (PI*2)*((mouseY/(float)height)+incy);
	rotZ = (PI*2)*incz;
	}
	translate(middlex, middley, 0.);
	rotateX(rotX);
	rotateY(rotY);
	rotateZ(rotZ);
	translate(-middlex, -middley, -0.);
	
	if (isRotating) {
	if (isRotatingX) { incx += 0.0003; };
		if (incx >= 1.0) {
			incx = 0.;
		}
	if (isRotatingY) { incy += 0.0001; };
		if (incy >= 1.0) {
			incy = 0.;
		}
	if (isRotatingZ) { incz += 0.00045; };
		if (incz >= 1.0) {
			incz = 0.;
		}
	}
	if (alternateColors) {
		stroke(120, 0, 0);
	} else {
		stroke(40, 120, 40);
	}
	line(0, 0, 0, 100, 0, 0);
	line(0, 0, 0, 0, 100, 0);
	line(0, 0, 0, 0, 0, 100);
	if (alternateColors) {
		stroke(0);
	} else {
		stroke(0);
	}
line(0.000000000000, 0.000000000000, 0.000000000000, 10.000000000000, 10.000000000000, 0.000000000000);
stroke(120, 120, 200);
line(10.000000000000, 10.000000000000, 30.000000000000, 10.000000000000, 10.000000000000, 0.000000000000);
line(10.000000000000, 10.000000000000, 30.000000000000, 10.000000000000, 0.000000000000, 30.000000000000);
line(10.000000000000, 0.000000000000, 0.000000000000, 10.000000000000, 0.000000000000, 30.000000000000);
stroke(0, 0, 0);
line(10.000000000000, 0.000000000000, 0.000000000000, -10.000000000000, 5.000000000000, 0.000000000000);
line(-10.000000000000, 5.000000000000, 0.000000000000, 20.000000000000, 20.000000000000, 0.000000000000);
stroke(120, 120, 200);
line(20.000000000000, 20.000000000000, 30.000000000000, 20.000000000000, 20.000000000000, 0.000000000000);
line(20.000000000000, 20.000000000000, 30.000000000000, 20.000000000000, 0.000000000000, 30.000000000000);
line(20.000000000000, 0.000000000000, 0.000000000000, 20.000000000000, 0.000000000000, 30.000000000000);
stroke(0, 0, 0);
line(20.000000000000, 0.000000000000, 0.000000000000, -20.000000000000, 10.000000000000, 0.000000000000);
line(-20.000000000000, 10.000000000000, 0.000000000000, 30.000000000000, 30.000000000000, 0.000000000000);
stroke(120, 120, 200);
line(30.000000000000, 30.000000000000, 30.000000000000, 30.000000000000, 30.000000000000, 0.000000000000);
line(30.000000000000, 30.000000000000, 30.000000000000, 30.000000000000, 0.000000000000, 30.000000000000);
line(30.000000000000, 0.000000000000, 0.000000000000, 30.000000000000, 0.000000000000, 30.000000000000);
stroke(0, 0, 0);
line(30.000000000000, 0.000000000000, 0.000000000000, -30.000000000000, 15.000000000000, 0.000000000000);
line(-30.000000000000, 15.000000000000, 0.000000000000, 40.000000000000, 40.000000000000, 0.000000000000);
stroke(120, 120, 200);
line(40.000000000000, 40.000000000000, 30.000000000000, 40.000000000000, 40.000000000000, 0.000000000000);
line(40.000000000000, 40.000000000000, 30.000000000000, 40.000000000000, 0.000000000000, 30.000000000000);
line(40.000000000000, 0.000000000000, 0.000000000000, 40.000000000000, 0.000000000000, 30.000000000000);
stroke(0, 0, 0);
line(40.000000000000, 0.000000000000, 0.000000000000, -40.000000000000, 20.000000000000, 0.000000000000);
line(-40.000000000000, 20.000000000000, 0.000000000000, 50.000000000000, 50.000000000000, 0.000000000000);
stroke(120, 120, 200);
line(50.000000000000, 50.000000000000, 30.000000000000, 50.000000000000, 50.000000000000, 0.000000000000);
line(50.000000000000, 50.000000000000, 30.000000000000, 50.000000000000, 0.000000000000, 30.000000000000);
line(50.000000000000, 0.000000000000, 0.000000000000, 50.000000000000, 0.000000000000, 30.000000000000);
stroke(0, 0, 0);
line(50.000000000000, 0.000000000000, 0.000000000000, -50.000000000000, 25.000000000000, 0.000000000000);
line(-50.000000000000, 25.000000000000, 0.000000000000, 60.000000000000, 60.000000000000, 0.000000000000);
stroke(120, 120, 200);
line(60.000000000000, 60.000000000000, 30.000000000000, 60.000000000000, 60.000000000000, 0.000000000000);
line(60.000000000000, 60.000000000000, 30.000000000000, 60.000000000000, 0.000000000000, 30.000000000000);
line(60.000000000000, 0.000000000000, 0.000000000000, 60.000000000000, 0.000000000000, 30.000000000000);
stroke(0, 0, 0);
line(60.000000000000, 0.000000000000, 0.000000000000, -60.000000000000, 30.000000000000, 0.000000000000);
line(-60.000000000000, 30.000000000000, 0.000000000000, 70.000000000000, 70.000000000000, 0.000000000000);
stroke(120, 120, 200);
line(70.000000000000, 70.000000000000, 30.000000000000, 70.000000000000, 70.000000000000, 0.000000000000);
line(70.000000000000, 70.000000000000, 30.000000000000, 70.000000000000, 0.000000000000, 30.000000000000);
line(70.000000000000, 0.000000000000, 0.000000000000, 70.000000000000, 0.000000000000, 30.000000000000);
stroke(0, 0, 0);
line(70.000000000000, 0.000000000000, 0.000000000000, -70.000000000000, 35.000000000000, 0.000000000000);
line(-70.000000000000, 35.000000000000, 0.000000000000, 80.000000000000, 80.000000000000, 0.000000000000);
stroke(120, 120, 200);
line(80.000000000000, 80.000000000000, 30.000000000000, 80.000000000000, 80.000000000000, 0.000000000000);
line(80.000000000000, 80.000000000000, 30.000000000000, 80.000000000000, 0.000000000000, 30.000000000000);
line(80.000000000000, 0.000000000000, 0.000000000000, 80.000000000000, 0.000000000000, 30.000000000000);
stroke(0, 0, 0);
line(80.000000000000, 0.000000000000, 0.000000000000, -80.000000000000, 40.000000000000, 0.000000000000);
line(-80.000000000000, 40.000000000000, 0.000000000000, 90.000000000000, 90.000000000000, 0.000000000000);
stroke(120, 120, 200);
line(90.000000000000, 90.000000000000, 30.000000000000, 90.000000000000, 90.000000000000, 0.000000000000);
line(90.000000000000, 90.000000000000, 30.000000000000, 90.000000000000, 0.000000000000, 30.000000000000);
line(90.000000000000, 0.000000000000, 0.000000000000, 90.000000000000, 0.000000000000, 30.000000000000);
stroke(0, 0, 0);
line(90.000000000000, 0.000000000000, 0.000000000000, -90.000000000000, 45.000000000000, 0.000000000000);
line(-90.000000000000, 45.000000000000, 0.000000000000, 100.000000000000, 100.000000000000, 0.000000000000);
stroke(120, 120, 200);
line(100.000000000000, 100.000000000000, 30.000000000000, 100.000000000000, 100.000000000000, 0.000000000000);
line(100.000000000000, 100.000000000000, 30.000000000000, 100.000000000000, 0.000000000000, 30.000000000000);
line(100.000000000000, 0.000000000000, 0.000000000000, 100.000000000000, 0.000000000000, 30.000000000000);
stroke(0, 0, 0);
line(100.000000000000, 0.000000000000, 0.000000000000, -100.000000000000, 50.000000000000, 0.000000000000);
stroke(120, 120, 200);
line(-100.000000000000, 50.000000000000, 30.000000000000, -100.000000000000, 50.000000000000, 0.000000000000);
line(-100.000000000000, 50.000000000000, 30.000000000000, 0.000000000000, 0.000000000000, 30.000000000000);
line(0.000000000000, 0.000000000000, 0.000000000000, 0.000000000000, 0.000000000000, 30.000000000000);
stroke(0, 0, 0);
line(0.000000000000, 0.000000000000, 0.000000000000, 0.000000000000, -20.000000000000, 0.000000000000);
stroke(120, 120, 200);
line(0.000000000000, -20.000000000000, 30.000000000000, 0.000000000000, -20.000000000000, 0.000000000000);
line(0.000000000000, -20.000000000000, 30.000000000000, 0.000000000000, -10.000000000000, 30.000000000000);
line(0.000000000000, -10.000000000000, 0.000000000000, 0.000000000000, -10.000000000000, 30.000000000000);
stroke(0, 0, 0);
line(0.000000000000, -10.000000000000, 0.000000000000, 5.176380902050, -29.318516525781, 0.000000000000);
stroke(120, 120, 200);
line(5.176380902050, -29.318516525781, 30.000000000000, 5.176380902050, -29.318516525781, 0.000000000000);
line(5.176380902050, -29.318516525781, 30.000000000000, 2.588190451025, -19.659258262891, 30.000000000000);
line(2.588190451025, -19.659258262891, 0.000000000000, 2.588190451025, -19.659258262891, 30.000000000000);
stroke(0, 0, 0);
line(2.588190451025, -19.659258262891, 0.000000000000, 12.588190451025, -36.979766338579, 0.000000000000);
stroke(120, 120, 200);
line(12.588190451025, -36.979766338579, 30.000000000000, 12.588190451025, -36.979766338579, 0.000000000000);
line(12.588190451025, -36.979766338579, 30.000000000000, 7.588190451025, -28.319512300735, 30.000000000000);
line(7.588190451025, -28.319512300735, 0.000000000000, 7.588190451025, -28.319512300735, 30.000000000000);
stroke(0, 0, 0);
line(7.588190451025, -28.319512300735, 0.000000000000, 21.730326074756, -42.461647924466, 0.000000000000);
stroke(120, 120, 200);
line(21.730326074756, -42.461647924466, 30.000000000000, 21.730326074756, -42.461647924466, 0.000000000000);
line(21.730326074756, -42.461647924466, 30.000000000000, 14.659258262891, -35.390580112601, 30.000000000000);
line(14.659258262891, -35.390580112601, 0.000000000000, 14.659258262891, -35.390580112601, 30.000000000000);
stroke(0, 0, 0);
line(14.659258262891, -35.390580112601, 0.000000000000, 31.979766338579, -45.390580112601, 0.000000000000);
stroke(120, 120, 200);
line(31.979766338579, -45.390580112601, 30.000000000000, 31.979766338579, -45.390580112601, 0.000000000000);
line(31.979766338579, -45.390580112601, 30.000000000000, 23.319512300735, -40.390580112601, 30.000000000000);
line(23.319512300735, -40.390580112601, 0.000000000000, 23.319512300735, -40.390580112601, 30.000000000000);
stroke(0, 0, 0);
line(23.319512300735, -40.390580112601, 0.000000000000, 42.638028826516, -45.566961014651, 0.000000000000);
stroke(120, 120, 200);
line(42.638028826516, -45.566961014651, 30.000000000000, 42.638028826516, -45.566961014651, 0.000000000000);
line(42.638028826516, -45.566961014651, 30.000000000000, 32.978770563626, -42.978770563626, 30.000000000000);
line(32.978770563626, -42.978770563626, 0.000000000000, 32.978770563626, -42.978770563626, 30.000000000000);
stroke(0, 0, 0);
line(32.978770563626, -42.978770563626, 0.000000000000, 52.978770563626, -42.978770563626, 0.000000000000);
stroke(120, 120, 200);
line(52.978770563626, -42.978770563626, 30.000000000000, 52.978770563626, -42.978770563626, 0.000000000000);
line(52.978770563626, -42.978770563626, 30.000000000000, 42.978770563626, -42.978770563626, 30.000000000000);
line(42.978770563626, -42.978770563626, 0.000000000000, 42.978770563626, -42.978770563626, 30.000000000000);
stroke(0, 0, 0);
line(42.978770563626, -42.978770563626, 0.000000000000, 62.297287089407, -37.802389661575, 0.000000000000);
stroke(120, 120, 200);
line(62.297287089407, -37.802389661575, 30.000000000000, 62.297287089407, -37.802389661575, 0.000000000000);
line(62.297287089407, -37.802389661575, 30.000000000000, 52.638028826516, -40.390580112601, 30.000000000000);
line(52.638028826516, -40.390580112601, 0.000000000000, 52.638028826516, -40.390580112601, 30.000000000000);
stroke(0, 0, 0);
line(52.638028826516, -40.390580112601, 0.000000000000, 69.958536902205, -30.390580112601, 0.000000000000);
stroke(120, 120, 200);
line(69.958536902205, -30.390580112601, 30.000000000000, 69.958536902205, -30.390580112601, 0.000000000000);
line(69.958536902205, -30.390580112601, 30.000000000000, 61.298282864361, -35.390580112601, 30.000000000000);
line(61.298282864361, -35.390580112601, 0.000000000000, 61.298282864361, -35.390580112601, 30.000000000000);
stroke(0, 0, 0);
line(61.298282864361, -35.390580112601, 0.000000000000, 75.440418488092, -21.248444488870, 0.000000000000);
stroke(120, 120, 200);
line(75.440418488092, -21.248444488870, 30.000000000000, 75.440418488092, -21.248444488870, 0.000000000000);
line(75.440418488092, -21.248444488870, 30.000000000000, 68.369350676226, -28.319512300735, 30.000000000000);
line(68.369350676226, -28.319512300735, 0.000000000000, 68.369350676226, -28.319512300735, 30.000000000000);
stroke(0, 0, 0);
stroke(120, 120, 200);
line(68.369350676226, -28.319512300735, 30.000000000000, 68.369350676226, -28.319512300735, 0.000000000000);
	noStroke();
	if (alternateColors) {
		fill(180, 180, 180, 120);
	} else {
		fill(120, 120, 120, 180);
	}
	translate(0,0,-50);
	box(200,200,100);
	translate(0,0,50);
}
void mouseDragged() {
	middlex += mouseX - pmouseX;
	middley += mouseY - pmouseY;
}
void keyPressed() {
	if (keyCode == UP) {
		middlez += 15.0;
	}
	if (keyCode == DOWN) {
		middlez -= 15.0;
	}
	if (key == 'r' || key == 'R') {
		if (isRotating) {
			isRotating = false;
		} else {
			isRotating = true;
			if (!isRotatingX && !isRotatingY && !isRotatingZ) { isRotatingZ = true; }
		}
	}
	if (key == 'c' || key == 'C') {
		if (alternateColors) {
			alternateColors = false;
		} else {
			alternateColors = true;
		}
	}
	if (key == 'x' || key == 'X') {
		if (isRotatingX) {
			isRotatingX = false;
		} else {
			isRotatingX = true;
		}
	}
	if (key == 'y' || key == 'Y') {
		if (isRotatingY) {
			isRotatingY = false;
		} else {
			isRotatingY = true;
		}
	}
	if (key == 'z' || key == 'Z') {
		if (isRotatingZ) {
			isRotatingZ = false;
		} else {
			isRotatingZ = true;
		}
	}
}
